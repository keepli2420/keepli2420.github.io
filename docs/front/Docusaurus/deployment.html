<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-front/Docusaurus/deployment">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">部署 | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://keepli2420.github.io/docs/front/Docusaurus/deployment"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="部署 | My Site"><meta data-rh="true" name="description" content="项目部署"><meta data-rh="true" property="og:description" content="项目部署"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://keepli2420.github.io/docs/front/Docusaurus/deployment"><link data-rh="true" rel="alternate" href="https://keepli2420.github.io/docs/front/Docusaurus/deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://keepli2420.github.io/docs/front/Docusaurus/deployment" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://496TLNXQJB-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="My Site Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="My Site" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.518cec76.css">
<link rel="preload" href="/assets/js/runtime~main.d51d103a.js" as="script">
<link rel="preload" href="/assets/js/main.d5b52e59.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">My Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/front">前端</a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/front">目录</a><button aria-label="Toggle the collapsible sidebar category &#x27;目录&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/front/Docusaurus">Docusaurus</a><button aria-label="Toggle the collapsible sidebar category &#x27;Docusaurus&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/front/Docusaurus/introduction">介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/front/Docusaurus/markdown">MarkDown特性</a><button aria-label="Toggle the collapsible sidebar category &#x27;MarkDown特性&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/front/Docusaurus/deployment">部署</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/front"><span itemprop="name">目录</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/front/Docusaurus"><span itemprop="name">Docusaurus</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">部署</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>部署</h1><p>要在生产环境中构建网站的静态文件，请运行：</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">yarn</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">npm</span><span class="token plain"> run build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">yarn</span><span class="token plain"> run build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>完成后，静态文件会被生成在 <code>build</code> 目录中。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>Docusaurus 只负责构建站点，然后把静态文件输出到 <code>build</code> 文件夹。</p><p>现在，该由你来决定怎么托管这些静态文件了。</p></div></div><p>你可以把你的网站部署到静态网站托管服务上，比如 <code>Vercel</code>、<code>GitHub Pages</code>、<code>Netlify</code>、<code>Render</code>、<code>Surge</code>，等等。</p><p>Docusaurus 网站是静态渲染的，而且一般不需要 JavaScript 也能运行！</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置">配置<a class="hash-link" href="#配置" title="Direct link to heading">​</a></h2><p>在 <code>docusaurus.config.js</code> 中，下面这些参数是必填的，让 Docusaurus 能够优化路由，并从正确的位置加载文件：</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>url</code></td><td>站点 URL。 如果网站部署在 <code>https://my-org.com/my-project/</code>， <code>url</code> 就是 <code>https://my-org.com/</code></td></tr><tr><td><code>baseUrl</code></td><td>站点的 base URL，带有末尾斜杠。 如果网站部署在 <code>https://my-org.com/my-project/</code>，<code> baseUrl</code> 就是 <code>/my-project/</code></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="本地测试构建">本地测试构建<a class="hash-link" href="#本地测试构建" title="Direct link to heading">​</a></h2><p>在部署到生产环境前，事先进行本地测试尤为重要。 Docusaurus provides a docusaurus serve command for that:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">yarn</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">npm</span><span class="token plain"> run serve</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">yarn</span><span class="token plain"> run serve</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>站点默认为部署在 <a href="http://localhost:3000/" target="_blank" rel="noopener noreferrer">http://localhost:3000/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="末尾斜杠配置">末尾斜杠配置<a class="hash-link" href="#末尾斜杠配置" title="Direct link to heading">​</a></h2><p>Docusaurus has a <a href="https://docusaurus.io/zh-CN/docs/api/docusaurus-config#trailingSlash" target="_blank" rel="noopener noreferrer">trailingSlash config</a>,
to allow customizing URLs/links and emitted filename patterns.</p><p>你一般不需要修改默认值。 遗憾的是，每家静态托管商的行为<strong>都不一样</strong>，而把同一网站部署到不同服务商的结果可能大相径庭。 根据你的托管商的不同，你可能需要修改此配置。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用环境变量">使用环境变量<a class="hash-link" href="#使用环境变量" title="Direct link to heading">​</a></h2><p>把可能敏感的信息放在环境变量中的做法很常见。</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">docusaurus.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// 如果你用 dotenv (https://www.npmjs.com/package/dotenv)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token function" style="color:rgb(0, 0, 255)">require</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;dotenv&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token method function property-access" style="color:rgb(0, 0, 255)">config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">title</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;...&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">url</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:rgb(129, 31, 63)">URL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// 你也可以通过环境变量控制网站细节</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">customFields</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// 把你的自定义环境放在这里</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">    </span><span class="token literal-property property">teamEmail</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token constant" style="color:rgb(129, 31, 63)">EMAIL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">home.jsx</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword module" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> </span><span class="token imports">useDocusaurusContext</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;@docusaurus/useDocusaurusContext&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword module" style="color:rgb(0, 0, 255)">export</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(0, 0, 255)">default</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(0, 0, 255)">Home</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token literal-property property">siteConfig</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">customFields</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">useDocusaurusContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain-text">通过 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">customFields</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">teamEmail</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain-text"> 联系我们！</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">div</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="选择托管服务商">选择托管服务商<a class="hash-link" href="#选择托管服务商" title="Direct link to heading">​</a></h2><p>有几种常见的托管选择：</p><ul><li>自行托管，通过 Apache2 或 Nginx 一类的 HTTP 服务器；</li><li>Jamstack 提供商，比如 Netlify 和 Vercel。 我们会以它们为参考，但同样的道理也可以适用于其他提供商。</li><li>GitHub Pages。 （从定义上说，它也是 Jamstack，但我们会单独比较它。）</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>我愿意为此投入多少资源（时间和金钱）？</summary><div><div class="collapsibleContent_i85q"><li>🔴自行托管是最难设置的——通常需要一个富有经验的人来管理。 云服务几乎永远不是免费的，而搭建一个本地服务器并把它连接到广域网可能更加昂贵。</li><li>🟢Jamstack 提供商可以帮助你建立一个运转良好的网站，几乎不需要时间，并且很容易配置功能，比如服务端重定向。 许多提供商的构建时间配额非常慷慨， 甚至免费套餐也够用，你几乎永远不会超出配额。 然而它最终还是有限的一旦达到限额，就需要付款。 要了解详情，请查看你的提供商的定价页面。</li><li>🟡GitHub Pages 部署的工作流程设置起来可能很麻烦。 （不信的话，可以看看部署到 GitHub Pages 部分的长度！） 但是， 这项服务（包括构建和部署）对所有公共仓库都永久免费，并且我们也有详细教程，帮助你正确运行它。</li></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>我需要多少服务端配置？</summary><div><div class="collapsibleContent_i85q"><li>🟢 自行托管时，你可以控制整个服务器的配置。 你可以根据请求的 URL 配置虚拟主机提供不同的服务；你可以做复杂的服务端重定向； 你可以把部分网站设置成认证后访问…… 如果你需要很多服务器端功能，请选择自行托管网站。</li><li>🟡 Jamstack 通常会提供一些服务器端配置，比如 URL 格式化（是否带有末尾斜杠）、服务端重定向等。</li><li>🔴 GitHub 页面除了使用 HTTPS 和设置 CNAME 以外，没有暴露任何服务器端的配置。</li></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>我是否需要团队协作？</summary><div><div class="collapsibleContent_i85q"><li>🟡 自行托管可以达到和 Netlify 一样的效果，但为此付出的工作要多得多。 通常，你会有一个特定的人负责部署，而且相比于其他两个选项，工作流程也不会非常基于 Git。</li><li>🟢 Netlify 和 Vercel 对每个 Pull Request 都会生成部署预览，这对于在合并到生产环境之前的团队审核工作非常有用。 你也可以做团队管理，不同成员拥有不同的部署访问权限。</li><li>🟡 GitHub 页面不能做部署预览，至少方法非常复杂。 每个仓库只能和一个站点部署相关联。 另一方面，你还是可以控制哪些人有站点部署的写权限。</li></div></div></details>不存在通用方案。 你需要权衡你的需求和资源，然后再做决定。<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自行托管">自行托管<a class="hash-link" href="#自行托管" title="Direct link to heading">​</a></h2><p>Docusaurus can be self-hosted using docusaurus serve. 可以用 <code>--port</code> 和 <code>--host</code> 来分别更改端口和绑定主机。</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">npm</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">yarn</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">npm</span><span class="token plain"> run serve -- --build --port </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain"> --host </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">yarn</span><span class="token plain"> run serve -- --build --port </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token plain"> --host </span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain">.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>相较于其他静态托管提供商 / CDN，这不是最佳解决方案。</p><p>在后面几节中，我们会介绍几个常用的托管提供商，以及如何做最有效的 Docusaurus 部署设置。 有些教程是由外部贡献者提供的。 Docusaurus 和任何服务都不利益相关。 文档可能不是最新的：服务提供商的后续 API 变更可能没有在本文档中有所反映。 如果你发现了过时的内容，欢迎提 PR。
鉴于同样的文档更新问题，我们不再接受添加新托管方案的 PR 了。 不过你可以在其他网站上写一篇关于某个服务提供商的文章（比如你的博客，或者提供商官网），然后让我们添加一个这篇文章的链接。</p></div></div><p>部署到 Netlify
要把 Docusaurus 2 站点部署到 <code>Netlify</code>，请先确保正确配置下列选项：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">docusaurus.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">url</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://docusaurus-2.netlify.app&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// 你的网站的 URL，没有 末尾斜杠</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">baseUrl</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// 你的站点相对于仓库的路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后，用 <a href="https://app.netlify.com/start" target="_blank" rel="noopener noreferrer">Netlify</a> 创建你的网站。</p><p>在设立站点时，指定如下构建指令和目录：</p><ul><li>构建指令：npm run build</li><li>发布目录：build</li></ul><p>如果你没有设置这些构建选项，你还是可以在创建站点之后前往 &quot;Site settings&quot; -&gt; &quot;Build &amp; deploy&quot; 完成配置。</p><p>用上述选项配置完毕后，你的网站就会在有代码合并到部署分支（默认为 main）时自动重新部署，</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_S0QG"><p>某些 Docusaurus 网站把 <code>docs</code> 文件夹放在 <code>website</code> 之外（尤其是从 Docusaurus v1 迁移而来的站点）：</p><div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">repo           # git 根目录</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">├── docs       # MD 文件</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└── website    # Docusaurus 根目录</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果你选择用 website 文件夹作为 Netlify 的 base directory，那么更新 docs 时，Netlify 不会触发构建。你需要配置自定义 ignore 命令：</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">website/netlify.toml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">[build]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  ignore = &quot;git diff --quiet $CACHED_COMMIT_REF $COMMIT_REF . ../docs/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>默认情况下，Netlify 会为 Docusaurus URL 添加末尾斜杠。</p><p>建议禁用 Netlify 的 <code>Post Processing &gt; Asset Optimization &gt; Pretty Urls</code> 选项，防止 URL 自动小写、不必要的重定向、404 错误等问题。</p><p>特别当心：<code>Disable asset optimization</code> 的全局选项不能正常工作，实际上并不会禁用 <code>Pretty URLs</code> 设置。 请确保单独取消勾选了 &quot;Pretty URLs&quot;。</p><p>如果你想保持开启 <code>Pretty URLs</code> Netlify 设置，就要适当配置 Docusaurus 的 <code>trailingSlash</code> 选项。</p><p>更多信息请参阅 <a href="https://github.com/slorber/trailing-slash-guide" target="_blank" rel="noopener noreferrer">slorber/trailing-slash-guide</a>。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署到-vercel">部署到 Vercel<a class="hash-link" href="#部署到-vercel" title="Direct link to heading">​</a></h2><p>部署 Docusaurus 项目到 <a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">Vercel</a> 会带来多项收益，包括性能、易用性，等等。</p><p>要通过 <a href="https://vercel.com/docs/concepts/git" target="_blank" rel="noopener noreferrer">Vercel 的 Git 集成部署</a>你的 Docusaurus 项目，先确保项目已经被推送到了某个 Git 仓库中。</p><p>用 <a href="https://vercel.com/import/git" target="_blank" rel="noopener noreferrer">Import Flow </a>把项目导入进 Vercel。 在导入过程中，你会看到所有相关选项都已经预先配置好了。
不过，你还是可以选择更改任何选项。选项列表可以在<a href="https://vercel.com/docs/build-step#build-&amp;-development-settings" target="_blank" rel="noopener noreferrer">这里</a>找到。</p><p>项目导入完成后，所有分支的后续推送都会生成<a href="https://vercel.com/docs/platform/deployments#preview" target="_blank" rel="noopener noreferrer">部署预览</a>。
所有<a href="https://vercel.com/docs/git-integrations#production-branch" target="_blank" rel="noopener noreferrer">生产分支</a>（通常是 &quot;main&quot; 或 &quot;master&quot;）的变更都会触发<a href="https://vercel.com/docs/platform/deployments#production" target="_blank" rel="noopener noreferrer">生产部署</a>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署到-github-pages">部署到 GitHub Pages<a class="hash-link" href="#部署到-github-pages" title="Direct link to heading">​</a></h2><p><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">Github Pages</a> 对所有 GitHub 仓库都免费。Docsaurus 提供了一个便捷的发布途径。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="概览">概览<a class="hash-link" href="#概览" title="Direct link to heading">​</a></h3><p>通常发布过程会涉及两个仓库（至少是两个分支）：包含源文件的分支，和包含要被部署到 GitHub Pages 上的构建输出的分支。
在下面的教程中，我们会把这两个仓库（分支）分别叫作源仓库（分支）和部署仓库（分支）。</p><p>每个 GitHub 仓库都关联有一个 GitHub Pages 服务。 如果部署仓库叫作 <code>my-org/my-project</code>（<code>my-org</code> 是组织名或用户名），那么网站会被部署在 <code>https://my-org.github.io/my-project/</code> 处。
特别地，如果部署仓库叫作 <code>my-org/my-org.github.io</code>（也就是 <em>组织 GitHub Pages 仓库</em>），那么网站会被部署在 <code>https://my-org.github.io/</code>。</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_S0QG"><p>如果你需要为 GitHub Pages 自定义域名，可以在 <code>static</code> 目录中创建一个 CNAME 文件。
<code>static</code> 目录中的内容会在部署时被复制到 <code>build</code> 文件夹的根部。 使用自定义域名时，就可以把 <code>baseUrl: &#x27;/projectName/&#x27;</code> 改回 <code>baseUrl: &#x27;/&#x27;</code> 了，也可以把 <code>url</code> 设置成你的自定义域名。</p><p>你可以参阅 GitHub Pages 的关于 <a href="https://docs.github.com/cn/pages/getting-started-with-github-pages/about-github-pages" target="_blank" rel="noopener noreferrer">GitHub Pages</a> 文档了解详情。</p></div></div><p>Github Pages 会从默认分支（一般是 <code>master</code>/<code>main</code>）或者 <code>gh-pages</code> 分支中提取部署文件（运行 <code>docusaurus build</code> 产生的文件）。
文件可以放在根目录，也可以放在 <code>/docs</code> 目录中。 你可以在仓库的 Settings &gt; Pages 处配置。 这个分支会被称作「部署分支」。</p><p>我们提供了 <code>docusaurus deploy</code> 命令，帮助你从源仓库部署到部署仓库，一步完成克隆、构建、提交。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docusaurusconfigjs-设置"><code>docusaurus.config.js</code> 设置<a class="hash-link" href="#docusaurusconfigjs-设置" title="Direct link to heading">​</a></h3><p>首先，修改你的 docusaurus.config.js，添加如下参数：</p><table><thead><tr><th><code>organizationName</code></th><th>拥有部署仓库的 GitHub 用户或组织。</th></tr></thead><tbody><tr><td><code>projectName</code></td><td>部署仓库的名字。</td></tr><tr><td><code>deploymentBranch</code></td><td>部署分支的名字。 对于不是组织 GitHub Pages 仓库（<code>projectName</code> 不以 <code>.github.io</code> 结尾）的仓库，默认为 <code>&#x27;gh-pages&#x27;</code>。 否则，这个字段需要明确通过配置文件或环境变量定义。</td></tr></tbody></table><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_S0QG"><p>GitHub Pages 默认为 Docusaurus 网址链接添加末尾斜杠。 建议设置 trailingSlash（true 或 false 都可以，只要不是 undefined）。</p></div></div><p>示例：</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">docusaurus.config.js</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">url</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;https://endiliey.github.io&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// 你的网站 URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">baseUrl</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">projectName</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;endiliey.github.io&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">organizationName</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;endiliey&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#000000"><span class="token plain">  </span><span class="token literal-property property">trailingSlash</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>默认情况下，GitHub Pages 会用 <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> 构建要被发布的文件。 因为 Jekyll 会忽略所有以 _ 开头的文件，所以我们推荐你在 static 文件夹中新建一个 .nojekyll 文件来禁用 Jekyll。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="环境设置">环境设置<a class="hash-link" href="#环境设置" title="Direct link to heading">​</a></h3><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>USE_SSH</code></td><td>设置为 <code>true</code> 时，会用 SSH 而不是默认的 HTTPS 来连接到 GitHub 源仓库。 如果源仓库的地址是 SSH URL（比如 <code>git@github.com:facebook/docusaurus.git</code>），<code>USE_SSH</code> 会被推断为 <code>true</code>。</td></tr><tr><td><code>GIT_USER</code></td><td>用于推送部署文件的 GitHub 账户用户名，<strong>需要有部署仓库的推送权限</strong>。 对于你自己的仓库，这一般会是你自己的 GitHub 用户名。 不使用 SSH 时必填，使用 SSH 时则会被忽略。</td></tr><tr><td><code>GIT_PASS</code></td><td>GitHub 用户（<code>GIT_USER</code> 所指定）的 personal access token，用于非交互式部署（如持续部署）</td></tr><tr><td><code>CURRENT_BRANCH</code></td><td>源分支。 这个分支一般是 <code>main</code> 或 <code>master</code>，但它也可以是 <code>gh-pages</code> 之外的任何分支。 如果变量没有赋值，那么会使用 <code>docusaurus deploy</code> 被调用时的分支。</td></tr></tbody></table><p>GitHub 企业安装版应该和 github.com 的工作方式一致。你只需要在环境变量中设置组织的 GitHub 企业主机即可。</p><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>GITHUB_HOST</code></td><td>你的 GitHub 企业网站的域名。</td></tr><tr><td><code>GITHUB_PORT</code></td><td>你的 GitHub 企业网站的端口。</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署-1">部署<a class="hash-link" href="#部署-1" title="Direct link to heading">​</a></h3><p>最后，要把你的网站部署到 GitHub Pages 上，请运行：</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Bash</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Windows</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">PowerShell</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token assign-left variable" style="color:rgb(9, 134, 88)">GIT_USER</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">GITHUB_USERNAME</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">yarn</span><span class="token plain"> deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">cmd /C </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;set &quot;</span><span class="token plain">GIT_USER</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">GITHUB_USERNAME</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &amp;&amp; yarn deploy&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">cmd /C </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;set &quot;GIT_USER=&lt;GITHUB_USERNAME&gt;&quot; &amp;&amp; yarn deploy&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_S0QG"><p>从 2021 年 8 月开始，GitHub 要求每次命令行登录都使用个人访问令牌，而不是密码。 当 GitHub 提示你输入密码时，请输入个人访问令牌。
更多信息请见 <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" target="_blank" rel="noopener noreferrer">GitHub</a> 文档。</p><p>或者，你也可以使用 SSH (USE_SSH=true) 登录。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="触发-github-actions-部署">触发 GitHub Actions 部署<a class="hash-link" href="#触发-github-actions-部署" title="Direct link to heading">​</a></h3><p><a href="https://help.github.com/en/actions" target="_blank" rel="noopener noreferrer">GitHub Actions</a> 允许你在仓库中完成软件开发流程的自动化、自定义执行。</p><p>下面的工作流示例会假设你的网站源码在仓库的 main 分支（也就是源分支为 <code>main</code>），而发布源设置为 <code>gh-pages</code> 分支（也就是部署分支为 <code>gh-pages</code>）。</p><p>我们的目标是：</p><ol><li>当向 <code>main</code> 发起新的拉取请求时，有一个 <code>action</code> 确保网站构建成功，但不会真正部署。 这个 <code>job</code> 会被称为 <code>test-deploy</code>。</li><li>当一个拉取请求被合并到 <code>main</code> 分支，或直接向 <code>main</code> 分支推送时，站点会被构建并部署到 <code>gh-pages</code> 分支。
在这之后，新的构建输出会被发布在 <code>GitHub Pages</code> 网站上。 这个 <code>job</code> 会被称为 <code>deploy。</code></li></ol><p>下面是两种通过 GitHub Actions 部署文档的方法。 根据你的部署分支的位置 (gh-pages)，选择相应的选项：</p><ol><li>源代码仓库和部署代码仓库是同一仓库。</li><li>部署仓库是一个远程仓库，和源仓库不同。</li></ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">同一</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">远程</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>虽然你可以把两个 job 定义在同一个工作流文件中，但原始的 deploy 工作流永远会在 PR 的检查状态中被显示为跳过，并没有传达任何真实状态信息，对审查工作也没有任何价值。 所以，我们建议把它们作为单独的工作流来管理。</p><p>我们会使用一个流行的第三方部署 action:<a href="https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-docusaurus" target="_blank" rel="noopener noreferrer">peaceiris/actions-gh-pages</a>。</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>GitHub action 文件</summary><div><div class="collapsibleContent_i85q"><p>添加这两个工作流文件：</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>根据实际情况调整参数</div><div class="admonitionContent_S0QG"><p>这些文件假设你使用的是 Yarn。 如果你用的是 npm，需要把 <code>cache: yarn</code>、<code>yarn install --frozen-lockfile</code>、<code>yarn build</code>
分别修改成 <code>cache: npm</code>、<code>npm ci</code>、<code>npm run build</code>。</p><p>如果你的 Docusaurus 项目不在你的仓库的根目录，你可能需要配置<a href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#example-set-the-default-shell-and-working-directory" target="_blank" rel="noopener noreferrer">默认工作目录</a>，并相应地调整路径。</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>.github/workflows/deploy.yml</summary><div><div class="collapsibleContent_i85q"><div class="language-YAML codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">.github/workflows/deploy.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-YAML codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">name: Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">on:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  push:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    branches:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # Review gh actions docs if you want to further define triggers, paths, etc</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">jobs:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  deploy:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name: Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runs-on: ubuntu-latest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    steps:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/checkout@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/setup-node@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          node-version: 18</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          cache: yarn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Install dependencies</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: yarn install --frozen-lockfile</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Build website</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: yarn build</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      # Popular action to deploy to GitHub Pages:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      # Docs: https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-docusaurus</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        uses: peaceiris/actions-gh-pages@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          github_token: ${{ secrets.GITHUB_TOKEN }}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          # Build output to publish to the `gh-pages` branch:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          publish_dir: ./build</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          # The following lines assign commit authorship to the official</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          # GH-Actions bot for deploys to `gh-pages` branch:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          # https://github.com/actions/checkout/issues/13#issuecomment-724415212</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          # The GH actions bot is used by default if you didn&#x27;t specify the two fields.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          # 你可以用自己的用户信息替换它们。</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          user_name: github-actions[bot]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          user_email: 41898282+github-actions[bot]@users.noreply.github.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>.github/workflows/test-deploy.yml</summary><div><div class="collapsibleContent_i85q"><div class="language-yarn codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">.github/workflows/test-deploy.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yarn codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">name: Test deployment</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">on:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  pull_request:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    branches:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - main</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # Review gh actions docs if you want to further define triggers, paths, etc</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">jobs:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  test-deploy:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name: Test deployment</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runs-on: ubuntu-latest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    steps:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/checkout@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/setup-node@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          node-version: 18</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          cache: yarn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Install dependencies</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: yarn install --frozen-lockfile</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Test build website</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: yarn build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>网站没有正确部署？</summary><div><div class="collapsibleContent_i85q"><li>推送到主分支后，如果你发现网站没有部署在正确的位置（比如它说 &quot;There isn&#x27;t a GitHub Pages site here&quot;，或者显示的是你的仓库的README.md 文件），可以检查如下问题：</li><li>GitHub pages 可能需要几分钟时间才能获取新的文件，所以先等大概 3 分钟，然后刷新，再确定它是不是真的不能工作。</li><li>在你的仓库的主页面上，你应该能在上次提交的标题旁边看到一个小绿勾，代表 CI 通过了。 如果你看到的是一个叉，代表构建或部署失败了。此时你需要检查日志获取更多调试信息。</li><li>点击绿勾，确定你看到了 &quot;Deploy to GitHub Pages&quot; 工作流。 &quot;pages build and deployment / deploy&quot; 这样的名字是 GitHub 的默认工作流，代表你的自定义部署工作流完全没有触发。 确保 YAML 文件放在了 .github/workflows 目录下，并且触发条件设置正确（比如如果你的默认分支是 &quot;master&quot; 而不是 &quot;main&quot;，你就需要修改 on.push 字段）。</li><li>我们使用 gh-pages 作为部署分支。 在你的仓库的 Settings &gt; Pages 下，确保 &quot;Source&quot;（此处是部署文件的源代码，而不是上文所用术语所指的源代码）被设为了 &quot;gh-pages&quot; + &quot;/ (root)&quot;。</li><li>如果你用了自定义域名，确保 DNS 记录指向了 GitHub pages 服务器的 IP。</li></div></div></details></div><div role="tabpanel" class="tabItem_Ymn6" hidden="">跨仓库的发布更难设置，因为你需要通过权限检查才能推送到另一个仓库。 我们会使用 SSH 完成身份验证。<li>生成一个新 SSH 密钥。 因为这个 SSH 密钥会用在 CI 中，所以不能输入任何密码。</li><li>默认情况下，你的公钥应该会被创建在 ~/.ssh/id_rsa.pub 中。如果没有，那么在添加 GitHub 部署密钥时，要记得使用你在前一步中提供的名字。</li><li>用 pbcopy  ~/.ssh/id_rsa.pub 把密钥复制到剪贴板，然后在你的部署仓库中，把它粘贴入部署密钥。 如果命令行不适合，可以手动复制文件内容。 在保存部署密钥之前，要勾选 Allow write access。</li><li>你需要把你的私钥设置成 <a href="https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets" target="_blank" rel="noopener noreferrer">GitHub secret</a>， 从而允许 Docusaurus 为你运行部署。</li><li>用 pbcopy  ~/.ssh/id_rsa 复制你的私钥，然后把它粘贴成一个 GitHub secret，名字叫 GH_PAGES_DEPLOY。 如果命令行不适合，可以手动复制文件内容。 保存你的 secret。</li><li>在 .github/workflows/ 中创建你的文档<a href="https://help.github.com/en/actions/configuring-and-managing-workflows/configuring-a-workflow#creating-a-workflow-file" target="_blank" rel="noopener noreferrer">工作流文件</a>。 在这个例子里，就是 deploy.yml。</li><li>现在，你应该大概有：一个源代码仓库，设置了 GitHub 工作流和作为 GitHub Secret 的 SSH 私钥，以及一个部署仓库，在 GitHub 部署密钥中设置了 SSH 公钥。</li><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>GitHub action 文件</summary><div><div class="collapsibleContent_i85q"><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>请确保把 <code>actions@github.com</code> 替换成了你的 GitHub 电子邮件，并把 <code>gh-actions</code> 替换成了你的名字。
这个文件假设你使用的是 Yarn。 如果你用的是 npm，需要把 <code>cache: yarn</code>、<code>yarn install --frozen-lockfile</code>、<code>yarn build</code> 分别修改成 <code>cache: npm</code>、<code>npm ci</code>、<code>npm run build</code>。</p></div></div><div class="language-YAML codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_Ktv7">.github/workflows/deploy.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-YAML codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token plain">name: Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">on:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  pull_request:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    branches: [main]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  push:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    branches: [main]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">jobs:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  test-deploy:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if: github.event_name != &#x27;push&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runs-on: ubuntu-latest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    steps:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/checkout@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/setup-node@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          node-version: 18</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          cache: yarn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Install dependencies</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: yarn install --frozen-lockfile</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Test build website</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: yarn build</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  deploy:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    if: github.event_name != &#x27;pull_request&#x27;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    runs-on: ubuntu-latest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    steps:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/checkout@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: actions/setup-node@v3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          node-version: 18</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          cache: yarn</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - uses: webfactory/ssh-agent@v0.5.0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        with:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          ssh-private-key: ${{ secrets.GH_PAGES_DEPLOY }}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      - name: Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        env:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          USE_SSH: true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        run: |</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          git config --global user.email &quot;actions@github.com&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          git config --global user.name &quot;gh-actions&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          yarn install --frozen-lockfile</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          yarn deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>网站没有正确部署？</summary><div><div class="collapsibleContent_i85q">推送到主分支后，如果你发现网站没有部署在正确的位置（比如它说 &quot;There isn&#x27;t a GitHub Pages site here&quot;，或者显示的是你的仓库的README.md 文件），可以检查如下问题：<li>GitHub pages 可能需要几分钟时间才能获取新的文件，所以先等大概 3 分钟，然后刷新，再确定它是不是真的不能工作。</li><li>在你的仓库的主页面上，你应该能在上次提交的标题旁边看到一个小绿勾，代表 CI 通过了。 如果你看到的是一个叉，代表构建或部署失败了。此时你需要检查日志获取更多调试信息。</li><li>点击绿勾，确定你看到了 &quot;Deploy to GitHub Pages&quot; 工作流。 &quot;pages build and deployment / deploy&quot; 这样的名字是 GitHub 的默认工作流， 代表你的自定义部署工作流完全没有触发。 确保 YAML 文件放在了 .github/workflows 目录下，并且触发条件设置正确（比如如果你的默认分支是 &quot;master&quot; 而不是 &quot;main&quot;，你就需要修改 on.push 字段）。</li><li>我们使用 gh-pages 作为部署分支。 在你的仓库的 Settings &gt; Pages 下，确保 &quot;Source&quot;（此处是部署文件的源代码，而不是上文所用术语所指的源代码）被设为了 &quot;gh-pages&quot; + &quot;/ (root)&quot;。</li><li>如果你用了自定义域名，确保 DNS 记录指向了 GitHub pages 服务器的 IP。</li></div></div></details></div></div></details></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/front/Docusaurus/markdown/MarkDownDiagrams"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Diagrams</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#配置" class="table-of-contents__link toc-highlight">配置</a></li><li><a href="#本地测试构建" class="table-of-contents__link toc-highlight">本地测试构建</a></li><li><a href="#末尾斜杠配置" class="table-of-contents__link toc-highlight">末尾斜杠配置</a></li><li><a href="#使用环境变量" class="table-of-contents__link toc-highlight">使用环境变量</a></li><li><a href="#选择托管服务商" class="table-of-contents__link toc-highlight">选择托管服务商</a></li><li><a href="#自行托管" class="table-of-contents__link toc-highlight">自行托管</a></li><li><a href="#部署到-vercel" class="table-of-contents__link toc-highlight">部署到 Vercel</a></li><li><a href="#部署到-github-pages" class="table-of-contents__link toc-highlight">部署到 GitHub Pages</a><ul><li><a href="#概览" class="table-of-contents__link toc-highlight">概览</a></li><li><a href="#docusaurusconfigjs-设置" class="table-of-contents__link toc-highlight"><code>docusaurus.config.js</code> 设置</a></li><li><a href="#环境设置" class="table-of-contents__link toc-highlight">环境设置</a></li><li><a href="#部署-1" class="table-of-contents__link toc-highlight">部署</a></li><li><a href="#触发-github-actions-部署" class="table-of-contents__link toc-highlight">触发 GitHub Actions 部署</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d51d103a.js"></script>
<script src="/assets/js/main.d5b52e59.js"></script>
</body>
</html>